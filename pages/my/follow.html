<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <link href="../../css/common/reset.css" rel="stylesheet"/>
  <link href="../../css/common/style.css" rel="stylesheet"/>
  <link href="../../css/common/header-base.css" rel="stylesheet"/>
  <link href="../../css/my/follow.css" rel="stylesheet"/>
  <title>MeetMeet : 팔로워 관리</title>
</head>
<body>
<div id="wrapper">
  <header id="header">
    <div class="back">
      <button class="back-btn" onclick="goBack()"><img alt="뒤로가기" src="../../img/icon/icon-arrow-left-pink.svg"/>
      </button>
    </div>
    <div class="flex gap-4 item-center">
      <h1>닉네임(본인)</h1>
    </div>
    <div style="width: 1.25rem;"></div>
  </header>
  <!--//header-->

  <div id="tab-menu">
    <div class="tab-box active">
      <span>팔로워</span>
    </div>
    <div class="tab-box">
      <span>팔로잉</span>
    </div>

    <div id="tab-underline"></div>
  </div>
  <!--//tab-menu-->

  <div id="follower">
    <div class="follow-list">
      <ul>
        <li>
          <div class="follow-profile">
            <div class="profile-img">
              <img alt="프로필 이미지" src="../../img/my/follow/profile1.png"/>
            </div>
            <div class="profile-info">
              <div class="nick-name">
                <span>Gabriel</span>
                <img alt="인증된 사용자" src="../../img/icon/verified.svg"/>
              </div>
              <span class="name">@suyeon_soe</span>
            </div>
          </div>
        </li>
        <li>
          <div class="follow-profile">
            <div class="profile-img">
              <img alt="프로필 이미지" src="../../img/my/follow/profile2.png"/>
            </div>
            <div class="profile-info">
              <div class="nick-name">
                <span>Bin Thieu</span>
                <img alt="" src=""/>
              </div>
              <span class="name">@Bin_Thieu</span>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>

  <div id="following">
    <div class="follow-list">
      <ul>
        <li>
          <div class="follow-profile">
            <div class="profile-img">
              <img alt="프로필 이미지" src="../../img/my/follow/profile1.png"/>
            </div>
            <div class="profile-info">
              <div class="nick-name">
                <span>Gabriel</span>
                <img alt="인증된 사용자" src="../../img/icon/verified.svg"/>
                <div class="rank normal">일반인</div>
              </div>
              <span class="name">@suyeon_soe</span>
            </div>
          </div>
          <button class="cancel-btn">취소</button>
        </li>
        <li>
          <div class="follow-profile">
            <div class="profile-img">
              <img alt="프로필 이미지" src="../../img/my/follow/profile2.png"/>
            </div>
            <div class="profile-info">
              <div class="nick-name">
                <span>Gabriel</span>
                <div class="rank lover">애정러</div>
              </div>
              <span class="name">@suyeon_soe</span>
            </div>
          </div>
          <button class="cancel-btn">취소</button>
        </li>
        <li>
          <div class="follow-profile">
            <div class="profile-img">
              <img alt="프로필 이미지" src="../../img/my/follow/profile3.png"/>
            </div>
            <div class="profile-info">
              <div class="nick-name">
                <span>Rina</span>
                <div class="rank vip">VIP최애</div>
              </div>
              <span class="name">@Rina</span>
            </div>
          </div>
          <button class="cancel-btn">취소</button>
        </li>
      </ul>
    </div>
  </div>

</div>

<script>
    const tabs = document.querySelectorAll("#tab-menu .tab-box");
    const underline = document.querySelector("#tab-underline");
    const follower = document.querySelector("#follower");
    const following = document.querySelector("#following");

    follower.style.display = "block";
    following.style.display = "none";

    function moveUnderline(tab) {
        const menuRect = document
            .querySelector("#tab-menu")
            .getBoundingClientRect();
        const tabRect = tab.getBoundingClientRect();

        const left = tabRect.left - menuRect.left; // 탭메뉴 안에서의 x좌표
        const width = tabRect.width;

        underline.style.left = left + "px";
        underline.style.width = width + "px";
    }

    // 초기 언더라인 위치 (기본 active = 첫 번째 탭)
    window.addEventListener("load", () => {
        const activeTab = document.querySelector("#tab-menu .tab-box.active") || tabs[0];
        moveUnderline(activeTab);
    });

    tabs.forEach((tab, index) => {
        tab.addEventListener("click", () => {
            // active 토글
            tabs.forEach(t => t.classList.remove("active"));
            tab.classList.add("active");

            // 언더라인 이동
            moveUnderline(tab);

            // 콘텐츠 토글
            if (index === 0) {
                follower.style.display = "block";
                following.style.display = "none";
            } else {
                follower.style.display = "none";
                following.style.display = "block";
            }
        });
    });

    function goBack() {
        if (document.referrer && document.referrer !== "") {
            history.back();
        } else {
            window.location.href = "../my.html";
        }
    }
</script>

</body>
</html>